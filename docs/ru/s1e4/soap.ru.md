# SOAP

[..](./README.md)

SOAP (Simple Object Access Protocol) - это протокол обмена сообщениями, который позволяет приложениям обмениваться структурированными и типизированными информационными сообщениями через сеть. SOAP является одним из протоколов, используемых для создания веб-служб (web services) и обмена данными между различными системами и платформами.

Основные характеристики SOAP:

1. **XML-основа**: SOAP использует XML для форматирования и структурирования сообщений. XML позволяет представлять данные в человекочитаемом и машинно-понятном формате, что обеспечивает гибкость и расширяемость протокола.

2. **Структурированные сообщения**: SOAP сообщения имеют строго определенную структуру, которая включает заголовок (header) и тело (body). В заголовке могут быть указаны различные аспекты сообщения, такие как аутентификация, безопасность или маршрутизация.

3. **Процедурные вызовы**: SOAP позволяет вызывать удаленные процедуры (RPC - Remote Procedure Call) на удаленных серверах. Это означает, что приложение может вызывать методы удаленного объекта, как если бы они были локальными.

4. **Привязка к протоколу**: SOAP может использовать различные протоколы для транспорта сообщений, такие как HTTP, SMTP, JMS и другие. Наиболее распространенным протоколом для SOAP является HTTP, но он также может быть использован поверх других протоколов.

5. **Безопасность и надежность**: SOAP обеспечивает механизмы безопасности и надежности, такие как шифрование, цифровые подписи, аутентификация и управление транзакциями, что делает его подходящим для обмена чувствительной информацией и критически важных данных.

SOAP был одним из первых протоколов, используемых для создания веб-служб, но в настоящее время он часто уступает в популярности REST, который обеспечивает более простой и легковесный подход к веб-службам. Однако SOAP все еще широко используется в определенных областях, таких как интеграция корпоративных систем, обмен данными в бизнес-процессах и других случаях, где требуется высокий уровень безопасности и надежности.

## Примеры

Вот примеры SOAP-запросов к простому веб-сервису, который предоставляет функциональность для выполнения арифметических операций (сложение, вычитание, умножение, деление) с двумя числами. Для удобства предположим, что веб-сервис доступен по адресу "http://example.com/calculator".

1. **Пример запроса на сложение (Add)**:
   ```xml
   <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cal="http://example.com/calculator">
      <soapenv:Header/>
      <soapenv:Body>
         <cal:Add>
            <cal:a>10</cal:a>
            <cal:b>5</cal:b>
         </cal:Add>
      </soapenv:Body>
   </soapenv:Envelope>
   ```

   В этом запросе мы вызываем метод `Add` (сложение) с двумя числами: `a` равным 10 и `b` равным 5.

2. **Пример запроса на вычитание (Subtract)**:
   ```xml
   <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cal="http://example.com/calculator">
      <soapenv:Header/>
      <soapenv:Body>
         <cal:Subtract>
            <cal:a>10</cal:a>
            <cal:b>5</cal:b>
         </cal:Subtract>
      </soapenv:Body>
   </soapenv:Envelope>
   ```

   В этом запросе мы вызываем метод `Subtract` (вычитание) с двумя числами: `a` равным 10 и `b` равным 5.

3. **Пример запроса на умножение (Multiply)**:
   ```xml
   <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cal="http://example.com/calculator">
      <soapenv:Header/>
      <soapenv:Body>
         <cal:Multiply>
            <cal:a>10</cal:a>
            <cal:b>5</cal:b>
         </cal:Multiply>
      </soapenv:Body>
   </soapenv:Envelope>
   ```

   В этом запросе мы вызываем метод `Multiply` (умножение) с двумя числами: `a` равным 10 и `b` равным 5.

4. **Пример запроса на деление (Divide)**:
   ```xml
   <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cal="http://example.com/calculator">
      <soapenv:Header/>
      <soapenv:Body>
         <cal:Divide>
            <cal:a>10</cal:a>
            <cal:b>5</cal:b>
         </cal:Divide>
      </soapenv:Body>
   </soapenv:Envelope>
   ```

   В этом запросе мы вызываем метод `Divide` (деление) с двумя числами: `a` равным 10 и `b` равным 5.

Это простые примеры SOAP-запросов к веб-сервису для выполнения арифметических операций. Каждый запрос отправляется в формате XML в теле сообщения SOAP с указанием соответствующего метода и параметров.

## Различия с REST

Основные отличия между SOAP и REST заключаются в следующем:

1. **Протокол**: SOAP (Simple Object Access Protocol) - это протокол обмена сообщениями, основанный на XML, который определяет формат и структуру сообщений для взаимодействия между клиентом и сервером. REST (Representational State Transfer) - это архитектурный стиль, опирающийся на принципы веб-ресурсов и HTTP-протокола для обмена данными между клиентом и сервером.

2. **Формат данных**: SOAP использует XML для представления данных в сообщениях, в то время как REST обычно использует различные форматы данных, такие как JSON, XML, HTML, текст и другие, в зависимости от контекста и потребностей.

3. **Универсальность**: SOAP часто ассоциируется с использованием веб-служб и RPC (Remote Procedure Call), что делает его более предпочтительным для распределенных систем и интеграции корпоративных приложений. REST, с другой стороны, предоставляет более гибкий и простой подход к веб-службам, что делает его более популярным для веб-приложений и мобильных приложений.

4. **Управление состоянием**: SOAP является более строгим протоколом, который может обеспечивать управление состоянием и транзакционные возможности, в то время как REST является без состояния (stateless) и не предоставляет встроенных механизмов управления состоянием или транзакциями.

5. **Производительность и сложность**: SOAP сообщения могут быть более тяжеловесными из-за использования XML и структурных ограничений протокола, что может привести к меньшей производительности и большей сложности в разработке. REST, с другой стороны, часто считается более легковесным и простым в использовании благодаря использованию простых HTTP-методов и форматов данных.

В целом, выбор между SOAP и REST зависит от конкретных потребностей и характеристик приложения. SOAP подходит для комплексных систем и интеграции корпоративных приложений, в то время как REST обычно предпочтительнее для веб-приложений и мобильных приложений благодаря своей простоте и гибкости.
